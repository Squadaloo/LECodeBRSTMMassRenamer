# LE-CODE BRSTM Mass Renamer

V0.5 Download: https://drive.google.com/file/d/1ZbwHBO2drC3-svTdrm5vat_Qee2vE1iJ

The LE-CODE BRSTM Mass Renamer is meant to be used with LE-CODE Track Distribution Creators for Mario Kart Wii (http://wiki.tockdom.com/wiki/LE-CODE) to do a mass rename of BRSTM music files named the same as the szs original file names to match the hex-based file names generated by LE-CODE.

The point is to use this in combination with the Track Music Expander Gecko Code (https://mariokartwii.com/showthread.php?tid=1881) which allows you to use custom songs for custom tracks provided the songs have the same name as the file names of the track in the distribution.  Rather than having to rename every brstm file yourself to match the hex address and having to rename them again if the address changes, this tool allows you to keep the song file names the same as the original szs file names prior to them being renamed by LE-CODE and then to automatically generate copies with the correct address based on your config.txt and track.bmg.txt files.

To use this app, edit the appsettings.json to include a file path to the LE-CODE config txt file, the directory containing the brstm files, the directory you wish to put the renamed copies in, and the file path of your tracks.bmg.txt file (http://wiki.tockdom.com/wiki/LE-CODE/Distribution_Tutorial#Create_a_BMG_track_list).  Make sure your bmg tracklist is a fresh unedited copy so that the track names match the ones found in the config.

Then, fill your input directory with .brstm files whose filenames match the filename of the tracks prior to LE-CODE renaming.  For final lap songs, simply rename the final lap the same as filename of the track plus one of a handful of accepted final lap suffixes.  These include...

- _final
- _f
- (FinalLap)
- (Final)
- (Final Lap)
- (Final Section)
- (FinalSection)
- (Last Lap)
- (LastLap)
- (Fast)
- All of the above with 0 or 1 spaces in front of the name.  Casing does not matter.

As an example, if your track is named MyTrack.szs and LE-CODE ends up copying a renamed version to 08F.szs, you would put two brstm files in the input folder named MyTrack.brstm and MyTrack (Final Lap).brstm.  This would output two files named 08F.brstm and 08F_f.brstm for normal and final lap versions respectively.

Once the settings are set, run the app.  It should end by telling you all of the files it generated or attempted to generate.  By default it does not overwrite files, but it will tell you if it tried to write to a file that already existed.

It should be noted this app was only written in a couple hours for personal use and likely isn't 100% and hasn't undergone a lot of testing.
